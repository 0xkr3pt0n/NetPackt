{% extends "core/base.html" %}
{%load static%}
{%block title%}Register{%endblock%}
{%block headattrs%}<link rel="stylesheet" href="{%static 'oops.css'%}" />{%endblock%}
{%block content%}
{% if request.user.is_authenticated %}
<script>
    window.location.href = "{% url 'home' %}"; 
</script>
{% else %}
<body class="bg-custom-primary">
    <div id="layoutAuthentication">
        <div id="layoutAuthentication_content">
            <div class="center">
            <h1>Register</h1>
            <form method="post" action="{% url 'register' %}">
                {% csrf_token %}
                {% if form.username.errors %}
                <div class="text-danger">
                    {{ form.username.errors.0 }}
                </div>
                {% endif %} 
                {% if form.email.errors %}
                <div class="text-danger">
                    {{ form.email.errors.0 }}
                </div>
                {% endif %}
                {% if form.password1.errors %}
                <div class="text-danger">
                    {{ form.password1.errors.0 }}
                </div>
                {% endif %}
                {% if form.password2.errors %}
                <div class="text-danger">
                    {{ form.password2.errors.0 }}
                </div>
                {% endif %}
                <div class="txt_field">
                    <input  id="username" type="text" name="username" required/>
                    <span></span>
                    <label>Username</label>
                </div>
                <div class="txt_field">
                    <input  id="inputEmail" type="text" name="first_name" required/>
                    <span></span>
                    <label>First name</label>
                </div>
                <div class="txt_field">
                    <input  id="inputEmail" type="text" name="last_name" required/>
                    <span></span>
                    <label>Last name</label>
                </div>
                <div class="txt_field">
                    <input  id="inputEmail" type="email" name="email" required/>
                    <span></span>
                    <label>Email address</label>
                </div>

                <div class="txt_field">
                    <input  id="inputPassword" type="password" name="password1" required/>
                    <span></span>
                    <label>Password</label>
                </div>

                <div class="txt_field" >
                    <input  id="inputPasswordConfirm" type="password" name="password2" required/>
                    <span></span>
                    <label>Confirm Password</label>
                </div>
                <input type="submit" value="Register"></input>
            </form>
        <div class="card-footer text-center py-3">
            <div class="signup_link">Already have an account ?  <a href="{%url 'login'%}">Login</a></div>

            </div>
        </div>
    </div>

{% endif %}
{%endblock%}